{% extends "src/views/layouts/documentation.html" %}

{% block content %}
<div class="tu-typo">

    <h1 id="javascript">JavaScript</h1>

    <p>
        Some functionality of Skin is made possible by
        <a href="start-installation.html" title="Installation">including the JavaScript file</a>.
        This will bind <code>Skin</code> to the window, making all functions available globally.
    </p>

    <p>This file is written in vanilla JavaScript, so it all works out-of-the-box!</p>

    <h2 id="functions">Functions</h2>

    <p>
        The following functions are available:
    </p>

    <ul class="tc-list mb-6">
        <li><a href="#skin.app.init" title="Skin.App.init">Skin.App.init</a></li>
        <li><a href="#skin.app.gettheme" title="Skin.App.getTheme">Skin.App.getTheme</a></li>
        <li><a href="#skin.app.settheme" title="Skin.App.setTheme">Skin.App.setTheme</a></li>
        <li><a href="#skin.form.getpromise" title="Skin.Form.getPromise">Skin.Form.getPromise</a></li>
        <li><a href="#skin.modal.show" title="Skin.Modal.show">Skin.Modal.show</a></li>
        <li><a href="#skin.modal.hide" title="Skin.Modal.hide">Skin.Modal.hide</a></li>
        <li><a href="#skin.toast.create" title="Skin.Toast.create">Skin.Toast.create</a></li>
        <li><a href="#skin.visibility.hide" title="Skin.Visibility.hide">Skin.Visibility.hide</a></li>
        <li><a href="#skin.visibility.show" title="Skin.Visibility.show">Skin.Visibility.show</a></li>
        <li><a href="#skin.visibility.showthenhide" title="Skin.Visibility.showThenHide">Skin.Visibility.showThenHide</a></li>
        <li><a href="#skin.visibility.toggle" title="Skin.Visibility.toggle">Skin.Visibility.toggle</a></li>
    </ul>

    <h3 id="skin.app.init">Skin.App.init</h3>

    <p>Initialize Skin's features, typically via <code>data-*</code> attributes.</p>

    <p><strong>Parameters:</strong></p>

    <ul class="tc-list mb-6">
        <li><code>config = {}</code> - Object</li>
    </ul>

    <p>
        Any configuration values passed in the <code>config</code> object will override the default values.
        The default configuration is as follows:
    </p>

    <div class="tc-code tc-code-terminal mb-6">
        <pre><code class="language-js">
                {% filter escape %}
                {% include "src/views/snippets/javascript-init-default.js" %}
                {% endfilter %}
            </code></pre>
    </div>

    <h4 id="config-debug">debug</h4>

    <p>
        When <code>debug</code> is set to <code>true</code>, errors will output to the console.
        This should not be enabled in production environments.
    </p>

    <h4 id="config-urltheme">urlTheme</h4>

    <p>
        When <code>urlTheme.enabled</code> is set to <code>true</code>, the theme can be changed using a
        URL query parameter.
    </p>

    <p>
        For example, by adding <code>?theme=dark</code> to the URL, the theme will be set to <code>dark</code>,
        and the preference will be saved in local storage.
        Valid themes are <code>light</code> and <code>dark</code>.
    </p>

    <p>
        The <code>urlTheme.paramName</code> member defines the URL query parameter used to change the theme.
    </p>

    <h4 id="config-theme">theme</h4>

    <p>
        When <code>theme.enabled</code> is set to <code>true</code>, elements with a <code>data-theme-toggle</code>
        attribute will set the theme to its value when clicked.
    </p>

    <p>
        To see it in action, see the <a href="example-dark-mode.html" title="dark mode example">dark mode example</a>.
    </p>

    <h4 id="config-hide">hide</h4>

    <p>
        When <code>hide.enabled</code> is set to <code>true</code>, elements with a <code>data-hide</code> attribute
        will hide the element with that ID when clicked.
    </p>

    <p>
        An optional <code>data-hide-duration</code> attribute
        specifies the duration (in minutes) to keep the element hidden. Omitting the <code>data-hide-duration</code>
        attribute or setting it to <code>0</code> will only hide the element for the current page load.
    </p>

    <p>
        In addition, an optional <code>data-hide-transition</code> attribute specifies the
        animation duration (in milliseconds).
    </p>

    <p>Adding the attribute <code>data-hidden="true"</code> to the dismissible element will hide it by default.
        This prevents it from showing before it is hidden by JavaScript.</p>

    <p>
        For an example, see the <a href="tc-toast.html" title="tc-toast component">tc-toast component</a>.
    </p>

    <h4 id="config-show">show</h4>

    <p>
        When <code>show.enabled</code> is set to <code>true</code>, elements with a <code>data-show</code> attribute
        will show the element with that ID when clicked.
    </p>

    <p>Hidden elements should include the attribute <code>data-hidden="true"</code> to hide by default.</p>

    <p>
        An optional <code>data-show-duration</code> attribute
        specifies the duration (in milliseconds) to show the element. Omitting the <code>data-show-duration</code>
        attribute or setting it to <code>0</code> will show the element for the current page load.
    </p>

    <p>
        In addition, an optional <code>data-show-transition</code> attribute specifies the
        animation duration (in milliseconds).
    </p>

    <p>
        For an example, see the <a href="tc-toast.html" title="tc-toast component">tc-toast component</a>.
    </p>

    <h4 id="config-toggle">toggle</h4>

    <p>
        When <code>toggle.enabled</code> is set to <code>true</code>, elements with a <code>data-toggle</code>
        attribute will toggle visibility of the element with that ID when clicked.
        An optional <code>data-toggle-transition</code> attribute sets the animation duration in milliseconds
        (250 by default).
    </p>

    <p>
        For an example, see <a href="example-toggle.html" title="example toggle">example toggle</a>.
    </p>


    <h4 id="config-loadsrc">loadSrc</h4>

    <p>
        When <code>loadSrc.enabled</code> is set to <code>true</code>, all images with a <code>data-load-src</code>
        attribute will have their <code>src</code> replaced by its value.
        This is useful for "lazy loading" larger images to speed up the page load time.
    </p>

    <p>
        For an example, see <a href="example-images.html" title="example images">example images</a>.
    </p>

    <h4 id="config-modal">modal</h4>

    <p>
        When <code>modal.enabled</code> is set to <code>true</code>, elements with a <code>data-modal-open</code>
        attribute will open the modal with that ID when clicked.
        An optional <code>data-modal-strict</code> attribute specifies whether to open the modal in
        <a href="#skin.modal.show" title="strict mode">strict mode</a>.
    </p>

    <p>
        In addition, elements with a <code>data-modal-close</code> attribute will close the modal with that ID
        when clicked.
    </p>

    <p>
        For an example, see the <a href="tc-modal.html" title="tc-modal component">tc-modal component</a>.
    </p>

    <h4 id="config-popup">popup</h4>

    <p>
        When <code>popup.enabled</code> is set to <code>true</code>, elements with a <code>data-popup</code>
        attribute will be used to show a
        <a href="https://floating-ui.com/docs/tutorial" title="Floating UI" target="_blank">Floating UI</a> element with that ID.
    </p>

    <p>
        An optional <code>data-popup-placement</code> attribute allows customization of the
        <a href="https://floating-ui.com/docs/tutorial#placements" title="placement" target="_blank">placement</a>
        (default of <code>bottom</code>).
    </p>

    <p>
        An optional <code>data-popup-offset</code> attribute allows customization of the <code>mainAxis</code>
        and <code>crossAxis</code> <a href="https://floating-ui.com/docs/offset" title="offset" target="_blank">offset</a>
        (default of <code>0,0</code>).
    </p>

    <p>
        An optional <code>data-popup-unique</code> attribute will force all other popups to hide when triggered
        when value equals <code>true</code>.
    </p>

    <p>
        An optional <code>data-popup-trigger</code> attribute allows the popup to show on <code>click</code>,
        <code>hover</code>, or <code>always</code> (default).
    </p>

    <p>
        For an example, see <a href="tc-popup.html" title="tc-popup component">tc-popup component</a>.
    </p>

    <h4 id="config-tabs">tabs</h4>

    <p>
        When <code>tabs.enabled</code> is set to <code>true</code>, Skin will use elements with
        <code>role=tab</code>, <code>role=tablist</code> and <code>role=tabpanel</code>
        to build interactive tabs.
    </p>

    <p>
        The tabs are fully accessible, and work with the following keyboard interactions:
    </p>

    <table class="tc-table tc-table-border mb-6 w-full overflow-x-auto">
        <thead>
        <tr class="text-left">
            <th>Command</th>
            <th>Description</th>
        </tr>
        </thead>

        <tbody>
        <tr>
            <td><kbd>&larr;</kbd> <kbd>&rarr;</kbd></td>
            <td>Selects the previous/next non-disabled tab</td>
        </tr>

        <tr>
            <td><kbd>Space</kbd> <kbd>Enter</kbd></td>
            <td>Activate the selected tab</td>
        </tr>

        </tbody>
    </table>

    <p>When <code>tabs.updateHash</code> is set to true, the URL hash will update as tabs are shown.
        In addition, tabs can be shown by the URL hash.</p>

    <p>
        For an example, see <a href="example-tabs.html" title="example tabs">example tabs</a>.
    </p>

    <h3 id="skin.app.gettheme">Skin.App.getTheme</h3>

    <p>Get current theme. (light/dark)</p>

    <h3 id="skin.app.settheme">Skin.App.setTheme</h3>

    <p>Set theme and optionally save to local storage.</p>

    <p><strong>Parameters:</strong></p>

    <ul class="tc-list mb-6">
        <li><code>theme</code></li>
        <li><code>save = false</code></li>
    </ul>

    <h3 id="skin.form.getpromise">Skin.Form.getPromise</h3>

    <p>Return a <code>Promise</code> object for an expected JSON response from <code>fetch()</code>
        using the action, method and data of a form.</p>

    <p><strong>Parameters:</strong></p>

    <ul class="tc-list mb-6">
        <li><code>formEl</code> - Form element</li>
        <li><code>config = {}</code> - Object</li>
    </ul>

    <p>Valid <code>config</code> object properties are <code>data</code> and <code>headers</code>.
    The <code>data</code> property can be an object whose key/value pairs will be added to the form data.
    The <code>headers</code> property can be an object whose key/value pairs will be added to the request headers.</p>

    <p>The <code>fetch</code> request will be sent with the header <code>Accept: application/json</code> by default.</p>

    <p>For an example, see <a href="example-forms.html" title="example forms">example forms</a>.</p>

    <h3 id="skin.modal.show">Skin.Modal.show</h3>

    <p>Show a <a href="tc-modal.html" title="modal component">modal component</a>.</p>

    <p><strong>Parameters:</strong></p>

    <ul class="tc-list mb-6">
        <li><code>id</code> - ID of modal to show</li>
        <li><code>config = {}</code> - Object</li>
    </ul>

    <p>Any configuration values passed in the <code>config</code> object will override the default values.
        The default configuration is as follows:</p>

    <div class="tc-code tc-code-terminal mb-6">
        <pre><code class="language-js">
                {% filter escape %}
                {% include "src/views/snippets/javascript-modal.js" %}
                {% endfilter %}
            </code></pre>
    </div>

    <p>
        When <code>strict</code> is set to <code>true</code>, the modal will be shown in strict mode,
        which prevents it from being closed by clicking the overlay or pressing the <kbd>esc</kbd> key.
    </p>

    <h3 id="skin.modal.hide">Skin.Modal.hide</h3>

    <p>Hide a <a href="tc-modal.html" title="modal component">modal component</a>.</p>

    <p><strong>Parameters:</strong></p>

    <ul class="tc-list mb-6">
        <li><code>id</code> - ID of modal to hide</li>
    </ul>

    <h3 id="skin.toast.create">Skin.Toast.create</h3>

    <p>Create and show a <a href="tc-toast.html" title="toast component">toast component</a>.</p>

    <p><strong>Parameters:</strong></p>

    <ul class="tc-list mb-6">
        <li><code>config = {}</code> - Object</li>
    </ul>

    <p>Any configuration values passed in the <code>config</code> object will override the default values.
        The default configuration is as follows:</p>

    <div class="tc-code tc-code-terminal mb-6">
        <pre><code class="language-js">
                {% filter escape %}
                {% include "src/views/snippets/javascript-toast.js" %}
                {% endfilter %}
            </code></pre>
    </div>

    <p>
        <code>aria-</code> attributes can be added with the optional <code>aria</code> property.
        <code>data-</code> attributes can be added with the optional <code>data</code> property.
    </p>

    <p>
        For an example, see the <a href="tc-toast.html" title="tc-toast component">tc-toast component</a>.
    </p>

    <h3 id="skin.visibility.hide">Skin.Visibility.hide</h3>

    <p>Hide element with a given animation duration.</p>

    <p><strong>Parameters:</strong></p>

    <ul class="tc-list mb-6">
        <li><code>el</code> - Element to hide</li>
        <li><code>duration = 250</code> - Animation duration in milliseconds</li>
    </ul>

    <h3 id="skin.visibility.show">Skin.Visibility.show</h3>

    <p>Show element with a given animation duration.</p>

    <p><strong>Parameters:</strong></p>

    <ul class="tc-list mb-6">
        <li><code>el</code> - Element to show</li>
        <li><code>duration = 250</code> - Animation duration in milliseconds</li>
    </ul>

    <h3 id="skin.visibility.showthenhide">Skin.Visibility.showThenHide</h3>

    <p>Show element for an amount of time with a given animation duration.</p>

    <p><strong>Parameters:</strong></p>

    <ul class="tc-list mb-6">
        <li><code>el</code> - Element to show</li>
        <li><code>hideAfter = 3000</code> - Hide after duration in milliseconds</li>
        <li><code>duration = 250</code> - Animation duration in milliseconds</li>
    </ul>

    <h3 id="skin.visibility.toggle">Skin.Visibility.toggle</h3>

    <p>Toggle element visibility with a given animation duration.</p>

    <p><strong>Parameters:</strong></p>

    <ul class="tc-list mb-6">
        <li><code>el</code> - Element to toggle</li>
        <li><code>duration = 250</code> - Animation duration in milliseconds</li>
    </ul>

    <h3 id="loadsrc">loadSrc</h3>

    <p>Load and replace source using <code>data-load-src</code> attribute.</p>

    <p><strong>Parameters:</strong></p>

    <ul class="tc-list mb-6">
        <li><code>el</code> - Element</li>
    </ul>

</div>
{% endblock %}